<!DOCTYPE html>

<html>
  
    <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Comments | 阿掖山：一个博客</title>
  <meta name="description" content="A Chinese Blog about Science">

  <!-- Google Fonts loaded here depending on setting in _data/options.yml true loads font, blank does not-->
  
    <link href='//fonts.googleapis.com/css?family=Lato:400,400italic' rel='stylesheet' type='text/css'>
  
  
  <!-- Load up MathJax script if needed ... specify in /_data/options.yml file-->
  
    <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?..."></script>
  

  <link rel="stylesheet" type="text/css" href="/blog/css/tufte.css">
  <link rel="stylesheet" type="text/css" href="/blog/css/print.css" media="print">
  
    <link rel="stylesheet" type="text/css" href="/blog/css/github-markdown.css">
    <link rel="stylesheet" type="text/css" href="/blog/css/font-awesome.css">
  

  <link rel="canonical" href="/blog/Comments/">

  <link rel="alternate" type="application/rss+xml" title="阿掖山：一个博客" href="/blog/feed.xml" />

  <link rel="shortcut icon" href="/blog/assets/img/favicon.ico" >

</head>


    <body>

        <!--- Header and nav template site-wide -->

<header>

    <div>
        <h3 class="sans">阿掖山：一个博客</h3>
    </div>
            
    <p style="font-size:100%">
        <span id="quoteLine">人活在世上，有的活成了面子，有的活成了里子，都是时势使然。</span><br>
        ——<span id="quoteAuthor">《一代宗师》</span><br>
        <span id="quoteLink"></span>
    </p>
            

    <nav class="group">

        <a href="/blog/">
	    <img class="badge" src="/blog/assets/img/badgeMountAye.png" alt="阿掖山">
        </a>

	

        

		      <a href="/blog/">
                          home
                      </a>

        

  	

        

		      <a href="/blog/History/">
                          history
                      </a>

        

  	

        

		      <a href="/blog/Topics/">
                          topics
                      </a>

        

  	

        

		      <a href="/blog/Links/">
                          links
                      </a>

        

  	

        

		    <a href="/blog/Comments/" class="active">
                        comments
                    </a>
		    
                

  	

        

		      <a href="/blog/About/">
                          about
                      </a>

        

  	

    </nav>

    <hr class="slender">
 


</header>


        <article class="full-width">

        <h1 id="留言和评论">留言和评论</h1>

<p>本博客是一个静态网站，没有可以处理留言和评论的服务端。作为替代，本博客使用 GitHub 仓库的 issue 区作为评论区。</p>

<p>对于博客的一般性问题，请在 <a href="https://github.com/MountAye/blog/milestone/1">General Comments</a> 区提交 issue。</p>

<p>对于博文的评论，请点击博文结尾处提供的链接，在 <a href="https://github.com/MountAye/blog/milestones">issue 区的 Milestones</a> 中寻找和博文同名的条目，新建 issue，或评论他人的 issues。</p>

<script type="text/javascript" src="/blog/assets/js/jquery-3.4.1.min.js"></script>

<script type="text/javascript" src="/blog/assets/js/date.js"></script>

<section id="comment">
    <h2>读者评论</h2>
    <!-- JavaScript objects are not JSON :-) -->
    <script type="text/javascript">
        // Global Variables
        var html = "<div class='ghReaderZone'><hr class='slender'>"; // STRING, get changed by side effects of functions
        var json; // OBJECT, get changed by side effects
        var jsComment; // LIST of OBJECT
        var iIssue = 0; // INTEGER
        var milestoneID = 3;
        var apiIssues = "https://api.github.com/repos/mountaye/blog/issues";
        var dateOption =  { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', hour:'2-digit', minute:'2-digit', second:'2-digit' };
        var reaction_fa = { "+1": "thumbs-o-up",
                            "-1": "thumbs-o-down",
                            "laugh": "smile-o",
                            "hooray": "gift",
                            "confused": "frown-o",
                            "heart": "heart-o"};
        // Functions 
        function getReactionsStr(json){
            var reactions="";
            for (iReact in reaction_fa){
                if (json[iReact] > 0){
                    reactions += '<i class="fa fa-'+ reaction_fa[reactionkey]+'"></i>' + reactions[reactionkey] + "&nbsp;";
                };
            };
            return reactions
        };
        function printJson(){
            for (var i = 0; i < json.length; i++){
                var issueDate = new Date(json[i].created_at).toLocaleString("zh-Hans", dateOption);
                var issueBody = json[i].body_html || json[i].body;
                var issueReact = "";
                if (json[i].reactions){issueReact = getReactionsStr(json[i].reactions);};
                // Other variables easy to get from the json are hard-coded inside the string manipulation.
                html += "<div class='ghIssue'><div class='ghIssueLogo'><a href='" + json[i].user.url + "'><img src='" + json[i].user.avatar_url + "' width='48' class='ghIssueObject'></a></div><div class='ghIssueBox'><h4 class='ghIssueHeading'><a class='ghIssueUser' href="+json[i].user.url+"> "+ json[i].user.login +" </a><small><a class='ghIssueDate' href=" + json[i].html_url + ">" + issueDate + "</a></small>&nbsp;"+ issueReact + "<span class='ghIssueTitle'>" + json[i].title + "</span></h4><div class='ghIssueBody markdown-body'>" + issueBody + "</div></div></div>";
                if ( json[i].hasOwnProperty("commentsMountaye") ){
                    for (var j = 0; j < json[i].commentsMountaye.length; j++){
                        var commentDate = new Date(json[i].commentsMountaye[j].created_at).toLocaleString("zh-Hans", dateOption);
                        var commentBody = json[i].commentsMountaye[j].body_html || json[i].commentsMountaye[j].body; // json[i].commentsMountaye[j].body
                        var commentReact = ""; 
                        if (json[i].commentsMountaye[j].reactions){commentReact = getReactionsStr(json[i].commentsMountaye[j].reactions);};
                        html += "<div class='ghComment'><div class='ghCommentLogo'><a href='" + json[i].commentsMountaye[j].user.url + "'><img src='" + json[i].commentsMountaye[j].user.avatar_url + "' width='48' class='ghIssueObject'></a></div><div class='ghCommentBox'><h4 class='ghCommentHeading'><a class='ghCommentUser' href='" + json[i].commentsMountaye[j].user.url + "'>" + json[i].commentsMountaye[j].user.login + "</a><small>&nbsp; 留言於 &nbsp;<a class='ghCommentDate' href=' json[i].commentsMountaye[j].user.url '>" + commentDate + "</a></small>&nbsp;"+ commentReact + "</h4><div class='commentGithubFloorsBody markdown-body'>" + commentBody + "</div></div></div>";
                    };
                };
            };
            html += "</div>";
            $("#commentContent").append(html);
            $(".email-hidden-toggle > a").on("click", function (e){ e.preventDefault();
                                                                    $(".email-hidden-reply", this.parent).toggle(); } );
        };
        function fetchCommentsFromOneIssue(msg){
            if (json[iIssue].comments > 0){
                $.ajax({ 
                    url: json[iIssue].comments_url,
                    type:"GET",
                    headers:  {Accept:"application/vnd.github.squirrel-girl-preview.full+json"},
                    dataType: "json",
                    success: function(msg){ 
                        json[iIssue].commentsMountaye = msg;
                        iIssue += 1; // side effect
                        $("#comment").trigger("oneCommentLoaded"); 
                    } 
                });    
            }
            else{
                iIssue += 1; // side effect
                $("#comment").trigger("oneCommentLoaded");
            }
        };
        function fetchCommentsIf(){
            if (iIssue==json.length){
                iIssue = 0;
                $("#comment").trigger("jsonReady");
            }
            else {$("#comment").trigger("fetchCommentsFromOneIssue");};
        };
        function issuesFetched(msg){
            json = msg;
            if ( json.length == 0 ){
                html += "<p>本文目前尚无评论。</p>";
                $("#comment").trigger("jsonReady");
            }
            else { $("#comment").trigger("hasIssues"); };
        };
        function errorIssues(){ html += "<p>网络异常，留言装填失败。</p>"; $("#comment").trigger("jsonReady"); };
        function loadIssues(){
            $.ajax({ 
                url: apiIssues,
                type: "GET",
                data: {milestone: milestoneID},
                headers: {Accept:"application/vnd.github.squirrel-girl-preview.full+json"},
                dataType: "json",
                success: function(msg){issuesFetched(msg);}, 
                error: errorIssues 
            });
        };
        // Async dependence
        $("#comment").on("fetchCommentsFromOneIssue",fetchCommentsFromOneIssue);
        $("#comment").on("oneCommentLoaded",fetchCommentsIf);
        $("#comment").on("hasIssues",fetchCommentsFromOneIssue);
        $("#comment").on("jsonReady",printJson);
        // Real Working Code :-) 
        document.addEventListener("DOMContentLoaded", loadIssues);
    </script>
    <noscript><p>查看留言，请启用 JavaScript。</p></noscript>
    
    <div id="commentIntro">
        <p>GitHub 用户可前往<a href="https://github.com/MountAye/blog/milestone/3">本文对应的 Milestone 页面</a>进行评论。</p>
    </div>
    <div id="commentContent"></div>
</section>



        </article>

        <span class="print-footer">
    Comments - MountAye
    
</span>
    
        <footer>
  <hr class="slender">
  <ul class="footer-links">
    
      <li>
        <a href="//github.com/MountAye/blog"><span class="icon-github"></span></a>
      </li>
    
      <li>
        <a href="/blog/feed.xml"><span class="icon-feed"></span></a>
      </li>
      
  </ul>
<div class="credits">
<span>&copy; 2019 &nbsp;&nbsp;MOUNTAYE</span></br> <br>
<span><a href="/blog/">MountAye | A Blog</a> is hosted by <a href="https://pages.github.com/">GitHub Pages</a>, powered by <a href="//jekyllrb.com">Jekyll</a>, and decorated with a <a href="//github.com/clayh53/tufte-jekyll">Tufte theme</a>.</span> 
</div>  
</footer>

  
    </body>

</html>
